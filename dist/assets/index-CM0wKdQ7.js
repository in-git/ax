import{a as _,A as F,g as R,r as d,d as p,u as n,o as i,c as u,f as e,ab as w,C as c,x as b,ac as V,I as S,J as N,_ as m,ad as O,ae as j,y as B,z as L,W as M,e as P,K as E,v as z,af as A,X as T}from"./index-HxNFWFwR.js";var U={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"filled"};const D=U;function k(t){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?Object(arguments[s]):{},o=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(l).filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable}))),o.forEach(function(r){G(t,r,l[r])})}return t}function G(t,s,l){return s in t?Object.defineProperty(t,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[s]=l,t}var C=function(s,l){var o=k({},s,l.attrs);return _(F,k({},o,{icon:D}),null)};C.displayName="CaretRightFilled";C.inheritAttrs=!1;const J=C,W=()=>R.get("monitor/server"),x=d(!0),a=d(),X=async()=>{const{data:t}=await W();t.data&&(a.value=t.data),x.value=!1},f=t=>(S("data-v-e79a8a6a"),t=t(),N(),t),q={key:0,class:"server-memory relative",id:"server-cpu"},H={class:"container"},Q={class:"loading"},Y={id:"loading",class:"loading-text text-center"},Z=f(()=>e("div",{class:"text-12"},"CPU占用率",-1)),K={class:"cpu-info p-4"},ee=f(()=>e("div",{class:"text-16 title"},"CPU信息",-1)),te=f(()=>e("div",null,"核心数",-1)),se=f(()=>e("div",null,"空闲率",-1)),ne={class:"mr-8"},ae=f(()=>e("div",null,"系统使用率",-1)),le={class:"mr-8"},oe=p({__name:"Cpu",setup(t){return(s,l)=>{const o=V;return n(a)?(i(),u("div",q,[e("div",H,[e("div",Q,[e("div",{id:"loadingMask",style:w({top:`${100-n(a).cpu.used}%`}),class:"loading-mask"},null,4),e("div",Y,[e("div",null,c(n(a).cpu.used)+"%",1),Z])])]),e("div",K,[ee,e("ul",null,[e("li",null,[te,e("div",null,c(n(a).cpu.cpuNum),1)]),e("li",null,[se,e("div",null,[e("span",ne,c(n(a).cpu.free)+"%",1),_(o,{trailColor:"white","stroke-color":{"0%":"#108ee9","100%":"#87d068"},class:"m-0",style:{width:"100px"},percent:n(a).cpu.free,"show-info":!1},null,8,["percent"])])]),e("li",null,[ae,e("div",null,[e("span",le,c(n(a).cpu.sys)+"%",1),_(o,{trailColor:"white","stroke-color":{"0%":"#108ee9","100%":"#87d068"},class:"m-0",style:{width:"100px"},"show-info":!1,percent:n(a).cpu.sys},null,8,["percent"])])])])])])):b("",!0)}}}),re=m(oe,[["__scopeId","data-v-e79a8a6a"]]),ie={class:"info-container"},ce=p({__name:"Info",setup(t){const s=d(null),l=d(!1),o=d("");let r=0,v;return O(()=>{if(!a.value)return;const g=d(`操作系统:${a.value.sys.osName}
服务器IP:${a.value.sys.computerIp}
运行时长:${a.value.jvm.runTime}
系统架构:${a.value.sys.osArch}
启动时间:${a.value.jvm.startTime}`);j(s,([{isIntersecting:$}],Fe)=>{l.value=$,$?v=setInterval(()=>{r<g.value.length-2?r++:clearInterval(v),o.value+=g.value[r]},50):(r=0,o.value="")})}),(g,$)=>(i(),u("div",{class:"server-info flex flex-s relative",id:"server-info",ref_key:"target",ref:s},[e("div",ie,c(n(o)),1)],512))}}),de=m(ce,[["__scopeId","data-v-8d4e0f41"]]),h=t=>(S("data-v-3ea62ee7"),t=t(),N(),t),ue={key:0,class:"server-memory relative",id:"server-memory"},_e={class:"container"},ve={class:"loading"},pe={id:"loading",class:"loading-text text-center"},me=h(()=>e("div",{class:"text-12"},"内存占用率",-1)),fe={class:"cpu-info p-4"},he=h(()=>e("div",{class:"text-16 title"},"内存信息",-1)),ge=h(()=>e("div",null,"总内存",-1)),ye=h(()=>e("div",null,"已使用",-1)),$e=h(()=>e("div",null,"剩余内存",-1)),xe=p({__name:"Memory",setup(t){return(s,l)=>n(a)?(i(),u("div",ue,[e("div",_e,[e("div",ve,[e("div",{id:"loadingMask",style:w({top:`${100-n(a).mem.usage}%`}),class:"loading-mask"},null,4),e("div",pe,[e("div",null,c(n(a).mem.usage)+"%",1),me])])]),e("div",fe,[he,e("ul",null,[e("li",null,[ge,e("div",null,c(n(a).mem.total)+"G",1)]),e("li",null,[ye,e("div",null,[e("span",null,c(n(a).mem.used)+"G",1)])]),e("li",null,[$e,e("div",null,[e("span",null,c(n(a).mem.free)+"G",1)])])])])])):b("",!0)}}),Ie=m(xe,[["__scopeId","data-v-3ea62ee7"]]),y=[{title:"CPU信息",id:"server-cpu"},{title:"内存信息",id:"server-memory"},{title:"系统信息",id:"server-info"}],I=d(0),be=t=>{I.value=t;const s=document.getElementById(y[t].id);s&&s.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},Ce={class:"nav"},ke=["onClick"],we={class:"icon"},Se=p({__name:"Nav",setup(t){return(s,l)=>{const o=J;return i(),u("div",Ce,[e("ul",null,[(i(!0),u(B,null,L(n(y),(r,v)=>(i(),u("li",{key:v,class:M({active:n(y)[n(I)].id===r.id}),onClick:g=>n(be)(v)},[e("div",we,[n(y)[n(I)].id===r.id?(i(),P(o,{key:0})):b("",!0)]),E(" "+c(r.title),1)],10,ke))),128))])])}}}),Ne=m(Se,[["__scopeId","data-v-6bca849c"]]),Oe={key:1,class:"modules"},Pe=p({__name:"index",setup(t){const s=d();return z(()=>{X()}),O(()=>{s.value&&s.value.addEventListener("wheel",l=>{l.preventDefault()},{passive:!1})}),A(()=>{a.value=void 0,x.value=!0}),(l,o)=>{const r=T;return i(),u("div",{class:"system-module server",ref_key:"serverRef",ref:s},[n(x)?(i(),P(r,{key:0})):(i(),u("div",Oe,[_(re),_(Ie),_(Ne),_(de)]))],512)}}}),Ve=m(Pe,[["__scopeId","data-v-3ea19be7"]]);export{Ve as default};
