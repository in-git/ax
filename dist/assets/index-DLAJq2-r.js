import{r as v,d as x,o as f,e as b,w as n,a as t,S as P,u as e,i as N,f as r,am as Q,ag as W,ah as G,L as H,ai as A,aj as J,ak as X,F as Y,g as k,h as Z,j as K,k as V,c as F,y as pt,an as ft,l as tt,B as z,m as et,n as at,p as nt,q as lt,s as ot,t as st,v as it,x as j,K as dt,C as vt,ao as M}from"./index-HxNFWFwR.js";import{_ as yt}from"./FormFooter-5NEaOLHv.js";import{_ as ct}from"./SystemTable.vue_vue_type_script_setup_true_lang-1XGIZ7ZX.js";import{_ as ut}from"./Operation.vue_vue_type_script_setup_true_lang-BzKfCqHW.js";import{_ as gt}from"./TableHead-D-Q4jVMf.js";import{F as bt}from"./Field-Vd8OBjEs.js";const U=v(!1),xt={createBy:"",createTime:"",remark:"",dictId:0,dictName:"",dictType:"",status:""},m=v({...xt}),q=v(!1),_t="/assets/TeamWork-CyrGpMw2.png",L=v(!1),kt={createBy:"",createTime:"",remark:"",dictCode:0,dictSort:0,dictLabel:"",dictValue:"",dictType:"",cssClass:"",listClass:"",isDefault:"",status:"",default:!1},_=v({...kt}),$t={class:"h-100 flex flex-col"},Dt={class:"flex-1"},wt={class:"py-12 text-center"},Ct=["src"],It=x({__name:"form",setup(l){return(c,a)=>{const o=W,s=G,d=H,u=A,y=J,$=X,D=yt,w=Y;return f(),b(w,{model:e(_),"wrapper-col":{span:8,offset:1},"label-col":{span:4,offset:4},"label-align":"right"},{default:n(()=>[t(P,{title:"字典数据编辑",visible:e(L),"onUpdate:visible":a[7]||(a[7]=i=>N(L)?L.value=i:null)},{default:n(()=>[r("div",$t,[r("div",Dt,[t(s,null,{default:n(()=>[t(o,{span:8,offset:9},{default:n(()=>[r("div",wt,[r("img",{src:e(_t),width:"160"},null,8,Ct)])]),_:1})]),_:1}),t(u,{label:"字典类型",name:"dictType",required:""},{default:n(()=>[t(d,{value:e(_).dictType,"onUpdate:value":a[0]||(a[0]=i=>e(_).dictType=i),disabled:""},null,8,["value"])]),_:1}),t(u,{label:"数据标签",name:"dictLabel",required:""},{default:n(()=>[t(d,{value:e(_).dictLabel,"onUpdate:value":a[1]||(a[1]=i=>e(_).dictLabel=i)},null,8,["value"])]),_:1}),t(u,{label:"数据键值",name:"dictValue",required:""},{default:n(()=>[t(d,{value:e(_).dictValue,"onUpdate:value":a[2]||(a[2]=i=>e(_).dictValue=i)},null,8,["value"])]),_:1}),t(u,{label:"样式属性",name:"cssClass"},{default:n(()=>[t(d,{value:e(_).cssClass,"onUpdate:value":a[3]||(a[3]=i=>e(_).cssClass=i)},null,8,["value"])]),_:1}),t(u,{label:"显示排序",name:"dictSort"},{default:n(()=>[t(d,{value:e(_).dictSort,"onUpdate:value":a[4]||(a[4]=i=>e(_).dictSort=i)},null,8,["value"])]),_:1}),t(u,{label:"状态",name:"status",required:""},{default:n(()=>[t(y,{options:e(Q),value:e(_).status,"onUpdate:value":a[5]||(a[5]=i=>e(_).status=i)},null,8,["options","value"])]),_:1}),t(u,{label:"备注",name:"remark"},{default:n(()=>[t($,{"auto-size":{minRows:2,maxRows:6},value:e(_).remark,"onUpdate:value":a[6]||(a[6]=i=>e(_).remark=i)},null,8,["value"])]),_:1}),t(D,{justify:"center"})])])]),_:1},8,["visible"])]),_:1},8,["model"])}}}),Tt=l=>k.get("system/dict/data/list",{params:l}),Nt=l=>k.get(`system/dict/data/${l}`),Ut=l=>k.delete(`system/dict/data/${l.join(",")}`),B=v({rowKey:"dictCode",data:[],loading:!1,moduleName:"dict"}),R=v({pageNum:1,pageSize:10,total:0,dictType:""}),C=v([]),St=[{label:"删除",key:"delete",icon:Z(K)}],E=async()=>{B.value.loading=!0,R.value.dictType=m.value.dictType;const{data:l}=await Tt(R.value);B.value.data=l.rows,R.value.total=l.total,B.value.loading=!1},rt=async l=>{let c=l||C.value[0];const{data:a}=await Nt(c);a.data&&(_.value=a.data,L.value=!0)},qt=async l=>{let c=l?[l]:C.value;await V(Ut,c),E()},Ot={class:"flex justify-between px-12 mb-12"},Ft={class:"flex justify-between"},Lt={class:"flex gc-4 align-center"},Bt=x({__name:"head",setup(l){return(c,a)=>{const o=ft,s=tt,d=z,u=et,y=at,$=nt,D=lt,w=ot,i=K,p=st;return f(),F(pt,null,[t(o,{title:"字典数据列表",class:"py-0 px-12",onBack:a[0]||(a[0]=g=>q.value=!1)}),r("div",Ot,[r("div",Ft,[r("div",Lt,[t(u,{title:"新建"},{default:n(()=>[t(d,{type:"primary"},{default:n(()=>[t(s)]),_:1})]),_:1}),t(u,{title:"编辑"},{default:n(()=>[t(d,{type:"link",onClick:a[1]||(a[1]=g=>e(rt)()),disabled:e(C).length!==1},{default:n(()=>[t(y)]),_:1},8,["disabled"])]),_:1}),t(u,{title:"刷新"},{default:n(()=>[t(d,{type:"link",onClick:e(E)},{default:n(()=>[t($)]),_:1},8,["onClick"])]),_:1}),t(D,{type:"vertical"}),t(w,{"allow-clear":"",onSearch:e(E)},null,8,["onSearch"])])]),r("div",null,[t(p,{title:"确定要删除吗",placement:"bottomRight",onConfirm:a[2]||(a[2]=g=>e(qt)())},{default:n(()=>[t(d,{danger:"",type:"link",disabled:e(C).length===0},{default:n(()=>[t(i)]),_:1},8,["disabled"])]),_:1})])])],64)}}}),Rt=[{title:"字典标签",dataIndex:"dictLabel"},{title:"字典值",dataIndex:"dictValue"},{title:"字典类型",dataIndex:"dictType"},{title:"状态",dataIndex:"status"},{title:"创建者",dataIndex:"createBy"},{title:"创建时间",dataIndex:"createTime"},{title:"备注",dataIndex:"remark"},{title:"字典编码",dataIndex:"dictCode"},{title:"字典排序",dataIndex:"dictSort"},{title:"列表类名",dataIndex:"listClass"},{title:"是否默认",dataIndex:"isDefault"}],ht=x({__name:"table",setup(l){return it(()=>{E()}),(c,a)=>(f(),F("div",null,[t(Bt),t(ct,{columns:e(Rt),table:e(B),query:e(R),"selected-keys":e(C),"onUpdate:selectedKeys":a[0]||(a[0]=o=>N(C)?C.value=o:null)},{default:n(({value:o})=>[o.column.dataIndex==="operation"?(f(),b(ut,{key:0,onEdit:s=>e(rt)(o.record.dictCode),items:e(St)},null,8,["onEdit","items"])):j("",!0)]),_:1},8,["columns","table","query","selected-keys"])]))}}),Vt={class:"system-module"},jt=x({__name:"DictData",setup(l){return(c,a)=>(f(),F("div",Vt,[t(ht),t(It)]))}}),Et=l=>k.get("system/dict/type/list",{params:l}),Kt=l=>k.delete(`system/dict/type/${l.join(",")}`),zt=l=>k.get(`system/dict/type/${l}`),Mt=l=>k.put("system/dict/type",l),Pt=l=>k.post("system/dict/type",l),Qt={class:"h-100 flex flex-col"},Wt={class:"py-12 text-center"},Gt=["src"],Ht={class:"flex-1 p-8"},At=x({__name:"form",setup(l){const c=async()=>{m.value.dictId?await V(Mt,m.value):await V(Pt,m.value),U.value=!1};return(a,o)=>{const s=W,d=G,u=H,y=A,$=J,D=X,w=z,i=Y;return f(),b(i,{model:e(m),"wrapper-col":{span:8,offset:1},"label-col":{span:4,offset:4},"label-align":"right",onFinish:c},{default:n(()=>[t(P,{title:"字典配置/新增",visible:e(U),"onUpdate:visible":o[4]||(o[4]=p=>N(U)?U.value=p:null)},{default:n(()=>[r("div",Qt,[t(d,null,{default:n(()=>[t(s,{span:8,offset:9},{default:n(()=>[r("div",Wt,[r("img",{src:e(_t),width:"160"},null,8,Gt)])]),_:1})]),_:1}),r("div",Ht,[t(y,{label:"字典名称",name:"dictName",required:""},{default:n(()=>[t(u,{value:e(m).dictName,"onUpdate:value":o[0]||(o[0]=p=>e(m).dictName=p)},null,8,["value"])]),_:1}),t(y,{label:"字典类型",required:"",name:"dictType"},{default:n(()=>[t(u,{value:e(m).dictType,"onUpdate:value":o[1]||(o[1]=p=>e(m).dictType=p)},null,8,["value"])]),_:1}),t(y,{label:"状态",required:"",name:"status"},{default:n(()=>[t($,{value:e(m).status,"onUpdate:value":o[2]||(o[2]=p=>e(m).status=p),options:e(Q)},null,8,["value","options"])]),_:1}),t(y,{label:"备注",name:"remark"},{default:n(()=>[t(D,{value:e(m).remark,"onUpdate:value":o[3]||(o[3]=p=>e(m).remark=p)},null,8,["value"])]),_:1}),t(d,null,{default:n(()=>[t(s,{span:8,offset:9},{default:n(()=>[t(w,{type:"primary",htmlType:"submit",block:""},{default:n(()=>[dt("提交")]),_:1})]),_:1})]),_:1})])])]),_:1},8,["visible"])]),_:1},8,["model"])}}}),h=v([{title:"字典名称",dataIndex:"dictName"},{title:"创建者",dataIndex:"createBy"},{title:"备注",dataIndex:"remark"},{title:"字典类型",dataIndex:"dictType"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime"}]),S=v({rowKey:"dictId",data:[],loading:!1,moduleName:"dict"}),I=v({pageNum:1,pageSize:5,total:0,dictName:""}),T=v([]),Jt=[{label:"删除",key:"delete",icon:Z(K)}],O=async()=>{S.value.loading=!0;const{data:l}=await Et(I.value);S.value.data=l.rows,I.value.total=l.total,S.value.loading=!1},mt=async l=>{let c=l||T.value[0];const{data:a}=await zt(c);a.data&&(m.value=a.data,U.value=!0)},Xt=async l=>{let c=l?[l]:T.value;await V(Kt,c),O()},Yt=l=>{q.value=!q.value,m.value.dictType=l},Zt={class:"flex justify-between"},te={class:"flex justify-between"},ee={class:"flex gc-4 align-center"},ae={class:"flex align-center"},ne=x({__name:"head",setup(l){return(c,a)=>{const o=tt,s=z,d=et,u=at,y=nt,$=lt,D=ot,w=K,i=st,p=gt;return f(),b(p,{title:"字典列表"},{default:n(()=>[r("div",Zt,[r("div",te,[r("div",ee,[t(d,{title:"新建"},{default:n(()=>[t(s,{type:"primary"},{default:n(()=>[t(o)]),_:1})]),_:1}),t(d,{title:"编辑"},{default:n(()=>[t(s,{type:"link",onClick:a[0]||(a[0]=g=>e(mt)()),disabled:e(T).length!==1},{default:n(()=>[t(u)]),_:1},8,["disabled"])]),_:1}),t(d,{title:"刷新"},{default:n(()=>[t(s,{type:"link",onClick:e(O)},{default:n(()=>[t(y)]),_:1},8,["onClick"])]),_:1}),t($,{type:"vertical"}),t(D,{value:e(I).dictName,"onUpdate:value":a[1]||(a[1]=g=>e(I).dictName=g),placeholder:"请输入字典名称","allow-clear":"",onSearch:e(O)},null,8,["value","onSearch"])])]),r("div",ae,[t(i,{title:"确定要删除吗",placement:"bottomRight",onConfirm:a[2]||(a[2]=g=>e(Xt)())},{default:n(()=>[t(s,{danger:"",type:"link",disabled:e(T).length===0},{default:n(()=>[t(w)]),_:1},8,["disabled"])]),_:1}),t(bt,{columns:e(h),"onUpdate:columns":a[3]||(a[3]=g=>N(h)?h.value=g:null),"module-name":e(S).moduleName},null,8,["columns","module-name"])])])]),_:1})}}}),le=x({__name:"table",setup(l){return it(()=>{O()}),(c,a)=>{const o=z;return f(),F("div",null,[t(ne),t(ct,{columns:e(h),table:e(S),query:e(I),"onUpdate:query":a[0]||(a[0]=s=>N(I)?I.value=s:null),"selected-keys":e(T),"onUpdate:selectedKeys":a[1]||(a[1]=s=>N(T)?T.value=s:null),onReload:e(O)},{default:n(({value:s})=>[s.column.dataIndex==="operation"?(f(),b(ut,{key:0,onEdit:d=>e(mt)(s.record.dictId),items:e(Jt)},null,8,["onEdit","items"])):s.column.dataIndex==="dictType"?(f(),b(o,{key:1,onClick:d=>e(Yt)(s.record.dictType),type:"link"},{default:n(()=>[dt(vt(s.record.dictName),1)]),_:2},1032,["onClick"])):j("",!0)]),_:1},8,["columns","table","query","selected-keys","onReload"])])}}}),oe={class:"system-module"},re=x({__name:"index",setup(l){return(c,a)=>(f(),F("div",oe,[t(M,{"enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutRight"},{default:n(()=>[e(q)?j("",!0):(f(),b(le,{key:0}))]),_:1}),t(M,{"enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutRight"},{default:n(()=>[e(q)?(f(),b(jt,{key:0})):j("",!0)]),_:1}),t(At)]))}});export{re as default};
