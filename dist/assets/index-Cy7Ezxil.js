import{r as f,q as Q,s as E,v as N,g as k,o as y,i as b,w as a,b as e,y as W,u as t,l as U,j,f as v,E as G,B as L,I as H,J as A,K as J,aq as X,C as z,N as Y,c as M,F as fe,ax as ve,O as Z,P as ee,Q as te,R as ae,T as ne,U as le,V as oe,h as se,W as K,G as ye,H as ge,t as be,ay as P}from"./index-_mG2u1vj.js";import{d as ke,s as xe,a as Ce,c as De,u as $e}from"./dict.data-v0oxLcIb.js";import{_ as ie}from"./SystemTable.vue_vue_type_script_setup_true_lang-BFt164iD.js";import{_ as de}from"./Operation.vue_vue_type_script_setup_true_lang-DZEKQUqh.js";import{l as we,s as Te,d as Ie,u as Oe,c as he}from"./dict-53eiuQB0.js";import{_ as Ne}from"./TableHead-DGGwMmAe.js";import{F as Ue}from"./Field-BJGw4_X2.js";const I=f(!1),ce={createBy:"",createTime:"",remark:"",dictId:0,dictName:"",dictType:"",status:"0"},c=f({...ce}),qe=()=>{c.value={...ce}},R=f(!1),O=f(!1),ue={remark:"",dictLabel:"",dictValue:"",dictType:"",cssClass:"",listClass:"",isDefault:"0",status:"0"},i=f({...ue}),Fe=()=>{i.value={...ue,dictType:c.value.dictType}},F=f({rowKey:"dictCode",data:[],loading:!1,moduleName:"dict"}),V=f({pageNum:1,pageSize:10,total:0,dictType:""}),$=f([]),Re=[{label:"删除",key:"delete",icon:Q(E),onClick(){re()}}],S=async()=>{F.value.loading=!0,V.value.dictType=c.value.dictType;const{data:o}=await ke(V.value);F.value.data=o.rows,V.value.total=o.total,F.value.loading=!1},_e=async o=>{let u=o||$.value[0];const{data:l}=await xe(u);l.data&&(i.value=l.data,O.value=!0)},re=async o=>{let u=o?[o]:$.value;await N(Ce,u),S()},Se=()=>{Fe(),O.value=!0},Le={class:"flex-1"},Ve=k({__name:"form",setup(o){const u=f(!1),l=async()=>{console.log(i.value),i.value.createTime?await N($e,i.value):await N(De,i.value),await S(),O.value=!1};return(r,n)=>{const s=L,p=H,m=A,g=J,x=X,C=z,D=Y;return y(),b(D,{model:t(i),"wrapper-col":{span:8,offset:1},"label-col":{span:4,offset:4},"label-align":"right",onFinish:l},{default:a(()=>[e(W,{title:"字典数据编辑",visible:t(O),"onUpdate:visible":n[7]||(n[7]=d=>U(O)?O.value=d:null)},{default:a(()=>[e(C,{title:"编辑数据"},{extra:a(()=>[e(s,{type:"primary",loading:t(u),htmlType:"submit"},{default:a(()=>[j("保存")]),_:1},8,["loading"])]),default:a(()=>[v("div",Le,[e(m,{label:"字典类型",required:""},{default:a(()=>[e(p,{value:t(i).dictType,"onUpdate:value":n[0]||(n[0]=d=>t(i).dictType=d),disabled:""},null,8,["value"])]),_:1}),e(m,{label:"字典标题",name:"dictLabel",required:""},{default:a(()=>[e(p,{value:t(i).dictLabel,"onUpdate:value":n[1]||(n[1]=d=>t(i).dictLabel=d),placeholder:"请输入字典标题"},null,8,["value"])]),_:1}),e(m,{label:"数据键值",name:"dictValue",required:""},{default:a(()=>[e(p,{value:t(i).dictValue,"onUpdate:value":n[2]||(n[2]=d=>t(i).dictValue=d),placeholder:"请输入数据键值"},null,8,["value"])]),_:1}),e(m,{label:"样式属性",name:"cssClass",placeholder:"请输入样式属性"},{default:a(()=>[e(p,{value:t(i).cssClass,"onUpdate:value":n[3]||(n[3]=d=>t(i).cssClass=d)},null,8,["value"])]),_:1}),e(m,{label:"显示排序",name:"dictSort"},{default:a(()=>[e(p,{value:t(i).dictSort,"onUpdate:value":n[4]||(n[4]=d=>t(i).dictSort=d),placeholder:"请输入显示排序"},null,8,["value"])]),_:1}),e(m,{label:"状态",name:"status",required:""},{default:a(()=>[e(g,{options:t(G),value:t(i).status,"onUpdate:value":n[5]||(n[5]=d=>t(i).status=d)},null,8,["options","value"])]),_:1}),e(m,{label:"备注"},{default:a(()=>[e(x,{placeholder:"请输入备注信息","auto-size":{minRows:2,maxRows:6},value:t(i).remark,"onUpdate:value":n[6]||(n[6]=d=>t(i).remark=d)},null,8,["value"])]),_:1})])]),_:1})]),_:1},8,["visible"])]),_:1},8,["model"])}}}),Be={class:"flex justify-between px-12 mb-12"},Ke={class:"flex justify-between"},Ee={class:"flex gc-4 align-center"},je=k({__name:"head",setup(o){return(u,l)=>{const r=ve,n=Z,s=L,p=ee,m=te,g=ae,x=ne,C=le,D=E,d=oe;return y(),M(fe,null,[e(r,{title:"字典数据列表",class:"py-0 px-12",onBack:l[0]||(l[0]=_=>R.value=!1)}),v("div",Be,[v("div",Ke,[v("div",Ee,[e(p,{title:"新建",onClick:t(Se)},{default:a(()=>[e(s,{type:"primary"},{default:a(()=>[e(n)]),_:1})]),_:1},8,["onClick"]),e(p,{title:"编辑"},{default:a(()=>[e(s,{type:"link",onClick:l[1]||(l[1]=_=>t(_e)()),disabled:t($).length!==1},{default:a(()=>[e(m)]),_:1},8,["disabled"])]),_:1}),e(p,{title:"刷新"},{default:a(()=>[e(s,{type:"link",onClick:t(S)},{default:a(()=>[e(g)]),_:1},8,["onClick"])]),_:1}),e(x,{type:"vertical"}),e(C,{"allow-clear":"",onSearch:t(S)},null,8,["onSearch"])])]),v("div",null,[e(d,{title:"确定要删除吗",placement:"bottomRight",onConfirm:l[2]||(l[2]=_=>t(re)())},{default:a(()=>[e(s,{danger:"",type:"link",disabled:t($).length===0},{default:a(()=>[e(D)]),_:1},8,["disabled"])]),_:1})])])],64)}}}),ze=[{title:"字典标签",dataIndex:"dictLabel"},{title:"字典值",dataIndex:"dictValue"},{title:"字典类型",dataIndex:"dictType"},{title:"备注",dataIndex:"remark"},{title:"字典编码",dataIndex:"dictCode"},{title:"是否默认",dataIndex:"isDefault"},{title:"状态",dataIndex:"status"}],Me=k({__name:"table",setup(o){se(()=>{S()});const u=l=>{i.value=l};return(l,r)=>(y(),M("div",null,[e(je),e(ie,{columns:t(ze),table:t(F),query:t(V),"selected-keys":t($),"onUpdate:selectedKeys":r[0]||(r[0]=n=>U($)?$.value=n:null)},{default:a(({value:n})=>[n.column.dataIndex==="operation"?(y(),b(de,{key:0,onOnClick:s=>t(_e)(n.record.dictCode),loading:t(F).loading,items:t(Re),onOpenChange:s=>u(n.record)},null,8,["onOnClick","loading","items","onOpenChange"])):K("",!0)]),_:1},8,["columns","table","query","selected-keys"])]))}}),Pe=k({__name:"DictData",setup(o){return(u,l)=>{const r=z;return y(),b(r,{class:"system__template","body-style":{height:"100%"}},{default:a(()=>[e(Me),e(Ve)]),_:1})}}}),Qe="/ax/assets/TeamWork-CyrGpMw2.png",h=f({rowKey:"dictId",data:[],loading:!1,moduleName:"dict"}),w=f({pageNum:1,pageSize:20,total:0,dictName:"",orderByColumn:"dict_id",isAsc:"desc"}),T=f([]),We=[{label:"删除",key:"delete",icon:Q(E),onClick(){me()}}],q=async()=>{h.value.loading=!0;const{data:o}=await we(w.value);h.value.data=o.rows,w.value.total=o.total,h.value.loading=!1},pe=async o=>{let u=o||T.value[0];const{data:l}=await Te(u);l.data&&(c.value=l.data,I.value=!0)},me=async()=>{let o=c.value.dictId?[c.value.dictId]:T.value;await N(Ie,o),q()},Ge=o=>{R.value=!R.value,c.value.dictType=o},He=()=>{qe(),I.value=!0},Ae={class:"h-100 flex flex-col"},Je={class:"py-12 text-center"},Xe=["src"],Ye={class:"flex-1 p-8"},Ze=k({__name:"form",setup(o){const u=f(!1),l=async()=>{u.value=!0,c.value.dictId?await N(Oe,c.value):await N(he,c.value),u.value=!1,await q(),I.value=!1};return(r,n)=>{const s=ye,p=ge,m=H,g=A,x=J,C=X,D=L,d=Y;return y(),b(d,{model:t(c),"wrapper-col":{span:8,offset:1},"label-col":{span:4,offset:4},"label-align":"right",onFinish:l},{default:a(()=>[e(W,{title:"字典配置/新增",visible:t(I),"onUpdate:visible":n[4]||(n[4]=_=>U(I)?I.value=_:null)},{default:a(()=>[v("div",Ae,[e(p,null,{default:a(()=>[e(s,{span:8,offset:9},{default:a(()=>[v("div",Je,[v("img",{src:t(Qe),width:"160"},null,8,Xe)])]),_:1})]),_:1}),v("div",Ye,[e(g,{label:"字典名称",name:"dictName",required:""},{default:a(()=>[e(m,{value:t(c).dictName,"onUpdate:value":n[0]||(n[0]=_=>t(c).dictName=_),placeholder:"请输入字典名称"},null,8,["value"])]),_:1}),e(g,{label:"字典类型",required:"",name:"dictType"},{default:a(()=>[e(m,{value:t(c).dictType,"onUpdate:value":n[1]||(n[1]=_=>t(c).dictType=_),请输入字典类型:""},null,8,["value"])]),_:1}),e(g,{label:"状态",required:"",name:"status"},{default:a(()=>[e(x,{value:t(c).status,"onUpdate:value":n[2]||(n[2]=_=>t(c).status=_),options:t(G)},null,8,["value","options"])]),_:1}),e(g,{label:"备注",name:"remark"},{default:a(()=>[e(C,{value:t(c).remark,"onUpdate:value":n[3]||(n[3]=_=>t(c).remark=_)},null,8,["value"])]),_:1}),e(p,null,{default:a(()=>[e(s,{span:8,offset:9},{default:a(()=>[e(D,{loading:t(u),type:"primary",htmlType:"submit",block:""},{default:a(()=>[j("提交")]),_:1},8,["loading"])]),_:1})]),_:1})])])]),_:1},8,["visible"])]),_:1},8,["model"])}}}),B=f([{title:"字典名称",dataIndex:"dictName"},{title:"创建者",dataIndex:"createBy"},{title:"备注",dataIndex:"remark"},{title:"字典类型",dataIndex:"dictType"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime"}]),et={class:"flex justify-between"},tt={class:"flex justify-between"},at={class:"flex gc-4 align-center"},nt={class:"flex align-center"},lt=k({__name:"head",setup(o){return(u,l)=>{const r=Z,n=L,s=ee,p=te,m=ae,g=ne,x=le,C=E,D=oe,d=Ne;return y(),b(d,{title:"字典列表"},{default:a(()=>[v("div",et,[v("div",tt,[v("div",at,[e(s,{title:"新建",onClick:t(He)},{default:a(()=>[e(n,{type:"primary"},{default:a(()=>[e(r)]),_:1})]),_:1},8,["onClick"]),e(s,{title:"编辑"},{default:a(()=>[e(n,{type:"link",onClick:l[0]||(l[0]=_=>t(pe)()),disabled:t(T).length!==1},{default:a(()=>[e(p)]),_:1},8,["disabled"])]),_:1}),e(s,{title:"刷新"},{default:a(()=>[e(n,{type:"link",onClick:t(q)},{default:a(()=>[e(m)]),_:1},8,["onClick"])]),_:1}),e(g,{type:"vertical"}),e(x,{value:t(w).dictName,"onUpdate:value":l[1]||(l[1]=_=>t(w).dictName=_),placeholder:"请输入字典名称","allow-clear":"",onSearch:t(q)},null,8,["value","onSearch"])])]),v("div",nt,[e(D,{title:"确定要删除吗",placement:"bottomRight",onConfirm:l[2]||(l[2]=_=>t(me)())},{default:a(()=>[e(n,{danger:"",type:"link",disabled:t(T).length===0},{default:a(()=>[e(C)]),_:1},8,["disabled"])]),_:1}),e(Ue,{columns:t(B),"onUpdate:columns":l[3]||(l[3]=_=>U(B)?B.value=_:null),"module-name":t(h).moduleName},null,8,["columns","module-name"])])])]),_:1})}}}),ot=k({__name:"table",setup(o){se(()=>{q()});const u=l=>{c.value=l};return(l,r)=>{const n=L;return y(),M("div",null,[e(lt),e(ie,{columns:t(B),table:t(h),query:t(w),"onUpdate:query":r[0]||(r[0]=s=>U(w)?w.value=s:null),"selected-keys":t(T),"onUpdate:selectedKeys":r[1]||(r[1]=s=>U(T)?T.value=s:null),onReload:t(q)},{default:a(({value:s})=>[s.column.dataIndex==="operation"?(y(),b(de,{key:0,onOnClick:p=>t(pe)(s.record.dictId),items:t(We),loading:t(h).loading,onOpenChange:p=>u(s.record)},null,8,["onOnClick","items","loading","onOpenChange"])):s.column.dataIndex==="dictType"?(y(),b(n,{key:1,onClick:p=>t(Ge)(s.record.dictType),type:"link"},{default:a(()=>[j(be(s.record.dictName),1)]),_:2},1032,["onClick"])):K("",!0)]),_:1},8,["columns","table","query","selected-keys","onReload"])])}}}),pt=k({__name:"index",setup(o){return(u,l)=>{const r=z;return y(),b(r,{class:"system__template","body-style":{height:"100%"}},{default:a(()=>[e(P,{"enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutRight"},{default:a(()=>[t(R)?K("",!0):(y(),b(ot,{key:0}))]),_:1}),e(P,{"enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutRight"},{default:a(()=>[t(R)?(y(),b(Pe,{key:0})):K("",!0)]),_:1}),e(Ze)]),_:1})}}});export{pt as default};
