import{_ as P}from"./Loading-ipjXdyfM.js";import{b as _,A as R,a as V,r as d,g as p,u as n,o as i,c as u,f as e,a7 as w,t as c,W as b,a8 as j,p as S,e as N,_ as m,a9 as O,aa as B,F as L,k as M,a6 as A,i as F,j as E,h as T,ab as U}from"./index-BwH1N0EP.js";var z={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"filled"};const D=z;function C(t){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?Object(arguments[s]):{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),l.forEach(function(r){G(t,r,o[r])})}return t}function G(t,s,o){return s in t?Object.defineProperty(t,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[s]=o,t}var k=function(s,o){var l=C({},s,o.attrs);return _(R,C({},l,{icon:D}),null)};k.displayName="CaretRightFilled";k.inheritAttrs=!1;const W=k,q=()=>V.get("monitor/server"),x=d(!0),a=d(),H=async()=>{const{data:t}=await q();t.data&&(a.value=t.data),x.value=!1},f=t=>(S("data-v-e79a8a6a"),t=t(),N(),t),J={key:0,class:"server-memory relative",id:"server-cpu"},Q={class:"container"},X={class:"loading"},Y={id:"loading",class:"loading-text text-center"},Z=f(()=>e("div",{class:"text-12"},"CPU占用率",-1)),K={class:"cpu-info p-4"},ee=f(()=>e("div",{class:"text-16 title"},"CPU信息",-1)),te=f(()=>e("div",null,"核心数",-1)),se=f(()=>e("div",null,"空闲率",-1)),ne={class:"mr-8"},ae=f(()=>e("div",null,"系统使用率",-1)),oe={class:"mr-8"},le=p({__name:"Cpu",setup(t){return(s,o)=>{const l=j;return n(a)?(i(),u("div",J,[e("div",Q,[e("div",X,[e("div",{id:"loadingMask",style:w({top:`${100-n(a).cpu.used}%`}),class:"loading-mask"},null,4),e("div",Y,[e("div",null,c(n(a).cpu.used)+"%",1),Z])])]),e("div",K,[ee,e("ul",null,[e("li",null,[te,e("div",null,c(n(a).cpu.cpuNum),1)]),e("li",null,[se,e("div",null,[e("span",ne,c(n(a).cpu.free)+"%",1),_(l,{trailColor:"white","stroke-color":{"0%":"#108ee9","100%":"#87d068"},class:"m-0",style:{width:"100px"},percent:n(a).cpu.free,"show-info":!1},null,8,["percent"])])]),e("li",null,[ae,e("div",null,[e("span",oe,c(n(a).cpu.sys)+"%",1),_(l,{trailColor:"white","stroke-color":{"0%":"#108ee9","100%":"#87d068"},class:"m-0",style:{width:"100px"},"show-info":!1,percent:n(a).cpu.sys},null,8,["percent"])])])])])])):b("",!0)}}}),re=m(le,[["__scopeId","data-v-e79a8a6a"]]),ie={class:"info-container"},ce=p({__name:"Info",setup(t){const s=d(null),o=d(!1),l=d("");let r=0,v;return O(()=>{if(!a.value)return;const g=d(`操作系统:${a.value.sys.osName}
服务器IP:${a.value.sys.computerIp}
运行时长:${a.value.jvm.runTime}
系统架构:${a.value.sys.osArch}
启动时间:${a.value.jvm.startTime}`);B(s,([{isIntersecting:$}])=>{o.value=$,$?v=setInterval(()=>{r<=g.value.length-1?(l.value+=g.value[r],r++):clearInterval(v)},50):(r=0,l.value="")})}),(g,$)=>(i(),u("div",{class:"server-info flex flex-s relative",id:"server-info",ref_key:"target",ref:s},[e("div",ie,c(n(l)),1)],512))}}),de=m(ce,[["__scopeId","data-v-ab995099"]]),h=t=>(S("data-v-3ea62ee7"),t=t(),N(),t),ue={key:0,class:"server-memory relative",id:"server-memory"},_e={class:"container"},ve={class:"loading"},pe={id:"loading",class:"loading-text text-center"},me=h(()=>e("div",{class:"text-12"},"内存占用率",-1)),fe={class:"cpu-info p-4"},he=h(()=>e("div",{class:"text-16 title"},"内存信息",-1)),ge=h(()=>e("div",null,"总内存",-1)),ye=h(()=>e("div",null,"已使用",-1)),$e=h(()=>e("div",null,"剩余内存",-1)),xe=p({__name:"Memory",setup(t){return(s,o)=>n(a)?(i(),u("div",ue,[e("div",_e,[e("div",ve,[e("div",{id:"loadingMask",style:w({top:`${100-n(a).mem.usage}%`}),class:"loading-mask"},null,4),e("div",pe,[e("div",null,c(n(a).mem.usage)+"%",1),me])])]),e("div",fe,[he,e("ul",null,[e("li",null,[ge,e("div",null,c(n(a).mem.total)+"G",1)]),e("li",null,[ye,e("div",null,[e("span",null,c(n(a).mem.used)+"G",1)])]),e("li",null,[$e,e("div",null,[e("span",null,c(n(a).mem.free)+"G",1)])])])])])):b("",!0)}}),Ie=m(xe,[["__scopeId","data-v-3ea62ee7"]]),y=[{title:"CPU信息",id:"server-cpu"},{title:"内存信息",id:"server-memory"},{title:"系统信息",id:"server-info"}],I=d(0),be=t=>{I.value=t;const s=document.getElementById(y[t].id);s&&s.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},ke={class:"nav"},Ce=["onClick"],we={class:"icon"},Se=p({__name:"Nav",setup(t){return(s,o)=>{const l=W;return i(),u("div",ke,[e("ul",null,[(i(!0),u(L,null,M(n(y),(r,v)=>(i(),u("li",{key:v,class:A({active:n(y)[n(I)].id===r.id}),onClick:g=>n(be)(v)},[e("div",we,[n(y)[n(I)].id===r.id?(i(),F(l,{key:0})):b("",!0)]),E(" "+c(r.title),1)],10,Ce))),128))])])}}}),Ne=m(Se,[["__scopeId","data-v-6bca849c"]]),Oe={key:1,class:"modules"},Fe=p({__name:"index",setup(t){const s=d();return T(()=>{H()}),O(()=>{s.value&&s.value.addEventListener("wheel",o=>{o.preventDefault()},{passive:!1})}),U(()=>{a.value=void 0,x.value=!0}),(o,l)=>{const r=P;return i(),u("div",{class:"system__module server",ref_key:"serverRef",ref:s},[n(x)?(i(),F(r,{key:0})):(i(),u("div",Oe,[_(re),_(Ie),_(Ne),_(de)]))],512)}}}),Ve=m(Fe,[["__scopeId","data-v-aa91fcd6"]]);export{Ve as default};
