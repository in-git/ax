import{_ as b}from"./Loading-CjArYprD.js";import{a as B,r,g as p,u as s,o as l,c as d,f as e,ai as C,t as i,b as u,V as I,aj as L,p as w,e as N,_ as m,ak as V,al as M,F as j,k as F,ag as P,i as S,j as T,h as U,am as E}from"./index-BKuZjElQ.js";import{_ as G}from"./CaretRightFilled-DOkhHbz4.js";const R=()=>B.get("monitor/server"),y=r(!0),t=r(),z=async()=>{const{data:n}=await R();n.data&&(t.value=n.data),y.value=!1},f=n=>(w("data-v-e79a8a6a"),n=n(),N(),n),D={key:0,class:"server-memory relative",id:"server-cpu"},A={class:"container"},O={class:"loading"},q={id:"loading",class:"loading-text text-center"},H=f(()=>e("div",{class:"text-12"},"CPU占用率",-1)),J={class:"cpu-info p-4"},K=f(()=>e("div",{class:"text-16 title"},"CPU信息",-1)),Q=f(()=>e("div",null,"核心数",-1)),W=f(()=>e("div",null,"空闲率",-1)),X={class:"mr-8"},Y=f(()=>e("div",null,"系统使用率",-1)),Z={class:"mr-8"},ee=p({__name:"Cpu",setup(n){return(o,_)=>{const c=L;return s(t)?(l(),d("div",D,[e("div",A,[e("div",O,[e("div",{id:"loadingMask",style:C({top:`${100-s(t).cpu.used}%`}),class:"loading-mask"},null,4),e("div",q,[e("div",null,i(s(t).cpu.used)+"%",1),H])])]),e("div",J,[K,e("ul",null,[e("li",null,[Q,e("div",null,i(s(t).cpu.cpuNum),1)]),e("li",null,[W,e("div",null,[e("span",X,i(s(t).cpu.free)+"%",1),u(c,{trailColor:"white","stroke-color":{"0%":"#108ee9","100%":"#87d068"},class:"m-0",style:{width:"100px"},percent:s(t).cpu.free,"show-info":!1},null,8,["percent"])])]),e("li",null,[Y,e("div",null,[e("span",Z,i(s(t).cpu.sys)+"%",1),u(c,{trailColor:"white","stroke-color":{"0%":"#108ee9","100%":"#87d068"},class:"m-0",style:{width:"100px"},"show-info":!1,percent:s(t).cpu.sys},null,8,["percent"])])])])])])):I("",!0)}}}),se=m(ee,[["__scopeId","data-v-e79a8a6a"]]),te={class:"info-container"},ne=p({__name:"Info",setup(n){const o=r(null),_=r(!1),c=r("");let a=0,v;return V(()=>{if(!t.value)return;const g=r(`操作系统:${t.value.sys.osName}
服务器IP:${t.value.sys.computerIp}
运行时长:${t.value.jvm.runTime}
系统架构:${t.value.sys.osArch}
启动时间:${t.value.jvm.startTime}`);M(o,([{isIntersecting:x}])=>{_.value=x,x?v=setInterval(()=>{a<=g.value.length-1?(c.value+=g.value[a],a++):clearInterval(v)},50):(a=0,c.value="")})}),(g,x)=>(l(),d("div",{class:"server-info flex flex-s relative",id:"server-info",ref_key:"target",ref:o},[e("div",te,i(s(c)),1)],512))}}),oe=m(ne,[["__scopeId","data-v-ab995099"]]),h=n=>(w("data-v-3ea62ee7"),n=n(),N(),n),ae={key:0,class:"server-memory relative",id:"server-memory"},le={class:"container"},ie={class:"loading"},ce={id:"loading",class:"loading-text text-center"},re=h(()=>e("div",{class:"text-12"},"内存占用率",-1)),de={class:"cpu-info p-4"},_e=h(()=>e("div",{class:"text-16 title"},"内存信息",-1)),ue=h(()=>e("div",null,"总内存",-1)),ve=h(()=>e("div",null,"已使用",-1)),pe=h(()=>e("div",null,"剩余内存",-1)),me=p({__name:"Memory",setup(n){return(o,_)=>s(t)?(l(),d("div",ae,[e("div",le,[e("div",ie,[e("div",{id:"loadingMask",style:C({top:`${100-s(t).mem.usage}%`}),class:"loading-mask"},null,4),e("div",ce,[e("div",null,i(s(t).mem.usage)+"%",1),re])])]),e("div",de,[_e,e("ul",null,[e("li",null,[ue,e("div",null,i(s(t).mem.total)+"G",1)]),e("li",null,[ve,e("div",null,[e("span",null,i(s(t).mem.used)+"G",1)])]),e("li",null,[pe,e("div",null,[e("span",null,i(s(t).mem.free)+"G",1)])])])])])):I("",!0)}}),fe=m(me,[["__scopeId","data-v-3ea62ee7"]]),$=[{title:"CPU信息",id:"server-cpu"},{title:"内存信息",id:"server-memory"},{title:"系统信息",id:"server-info"}],k=r(0),he=n=>{k.value=n;const o=document.getElementById($[n].id);o&&o.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},ge={class:"nav"},$e=["onClick"],xe={class:"icon"},ye=p({__name:"Nav",setup(n){return(o,_)=>{const c=G;return l(),d("div",ge,[e("ul",null,[(l(!0),d(j,null,F(s($),(a,v)=>(l(),d("li",{key:v,class:P({active:s($)[s(k)].id===a.id}),onClick:g=>s(he)(v)},[e("div",xe,[s($)[s(k)].id===a.id?(l(),S(c,{key:0})):I("",!0)]),T(" "+i(a.title),1)],10,$e))),128))])])}}}),ke=m(ye,[["__scopeId","data-v-6bca849c"]]),Ie={key:1,class:"modules"},Ce=p({__name:"index",setup(n){const o=r();return U(()=>{z()}),V(()=>{o.value&&o.value.addEventListener("wheel",_=>{_.preventDefault()},{passive:!1})}),E(()=>{t.value=void 0,y.value=!0}),(_,c)=>{const a=b;return l(),d("div",{class:"system__module server",ref_key:"serverRef",ref:o},[s(y)?(l(),S(a,{key:0})):(l(),d("div",Ie,[u(se),u(fe),u(ke),u(oe)]))],512)}}}),Se=m(Ce,[["__scopeId","data-v-aa91fcd6"]]);export{Se as default};
